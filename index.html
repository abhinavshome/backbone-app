<!DOCTYPE html>
<html>

<head>
    <title>Backbone Demo</title>
    <style>
    td {
        background-color: lightgray;
        padding: 5px;
    }
    </style>
</head>

<body>
    <h1>Todo List</h1>
    <div>
        <a href="#/">Home</a>
        <a href="#/new-todo">New Todo</a>
    </div>
    <div class="page"></div>
    <script type="text/template" id="main-view-template">
        <table>
            <% _.each(todos, function(todo){ %>
                <tr>
                    <td>
                        <%= todo.label%>
                    </td>
                    <td>
                        <%= todo.priority%>
                    </td>
                    <td>
                        <%= todo.done%>
                    </td>
                    <td>
                    	<a href="#/edit-todo/<%= todo.id %>">edit</a>
                    </td>
                </tr>
                <% }); %>
        </table>
    </script>
    <script type="text/template" id="new-todo-template">
        <form>
            Label:
            <input type="text" name="label" />
            <br> Priority:
            <select name="priority">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
            <br> Done:
            <input type="checkbox" name="done" />
            <br>
            <input type="submit" value="Create" />
        </form>
    </script>
    <script type="text/template" id="edit-todo-template">
        <form>
            Label:
            <input type="text" name="label" value="<%= todo.label %>"/>
            <br> Priority:
            <select name="priority">
            	<% _.times(5, function(index) { i = index+1; %>
					<option <%= i == todo.priority ? 'selected' : '' %> > <%= i %> </option> 
            	<% }) %>
            </select>
            <br> Done:
            <input type="checkbox" name="done" <%= todo.done ? 'checked' : '' %>/>
            <br>
            <input type="submit" value="Update" />
        </form>
    </script>
    <script src="dist/bundle.js"></script>
</body>

</html>
